!function(e,t){"use strict";var r=function(e,t){var r=e.find(".bdt-ep-crypto-currency-card"),n=r.data("settings"),a=Boolean(elementorFrontend.isEditMode());if(!r.length)return;var d={currency:n.currency,limit:100,order:"market_cap_desc"};n.currency&&(d.currency=n.currency),n.order&&(d.order=n.order);let c,i=d;c=void 0!==i&&void 0!==i.currency?i.currency:"usd",t.ajax({type:"GET",dataType:"json",url:ElementPackConfig.ajaxurl+"?action=ep_crypto",data:{currency:c,per_page:i.limit,order:i.order,ids:n.ids},success:function(e){if(t(r).empty(),void 0!==e.data&&e.data.length>0&&!0===e.apiErrors){let n=`<div class="bdt-alert-danger" bdt-alert>\n                                    <a class="bdt-alert-close" bdt-close></a>\n                                    <p>${e.data}</p>\n                                </div>`;t(r).append(n)}else{var a=0;e.data.forEach(e=>{if(++a>1)return;let d=c.toString().toUpperCase(),i=returnCurrencySymbol(d)+e.current_price,s=e.price_change_percentage_1h,p=Number(s)===s&&s%1!=0?s.toFixed(2)+"%":s+"%";var o="",l="",u="",b="",v="",m="",y="",h="",g="";1==n.showCurrencyImage&&(o=`<div class="bdt-ep-currency-image">\n                        <img src="${e.image}" alt="${e.id}">\n                    </div>`),1==n.showCurrencyShortName&&(u=`<div class="bdt-ep-currency-short-name">\n                        <span>${e.symbol}</span>\n                    </div>`),1==n.showCurrencyName&&(l=`<div class="bdt-crypto-name-wrap"><div class="bdt-ep-currency-name">\n                        <span>${e.id}</span>\n                    </div> ${u}</div>`),1==n.showCurrencyChangePrice&&(v=`<div class="bdt-percentage" title="1 Hour Data Change">${p}</div>`),1==n.showCurrencyCurrentPrice&&(b=`<div class="bdt-width-1-1 bdt-width-1-2@s"><div class="bdt-ep-current-price">\n                        <div class="bdt-price">${i}</div>\n                        ${v}\n                    </div></div>`),1==n.showMarketCapRank&&(m=`<div class="bdt-ep-ccc-atribute">\n                        <span class="bdt-ep-item-text">Market Cap Rank: </span>\n                        <span>#${e.market_cap_rank}</span>\n                    </div>`),1==n.showMarketCap&&(y=`<div class="bdt-ep-ccc-atribute">\n                        <span class="bdt-ep-item-text">Market Cap: </span>\n                        <span>${e.market_cap}</span>\n                    </div>`),1==n.showTotalVolume&&(h=`<div class="bdt-ep-ccc-atribute">\n                        <span class="bdt-ep-item-text">Total Volume: </span>\n                        <span>${e.total_volume}</span>\n                    </div>`),1==n.showPriceChange&&(g=`<div class="bdt-ep-ccc-atribute">\n                        <span class="bdt-ep-item-text">24H Change(%): </span>\n                        <span>${e.price_change_percentage_24h}</span>\n                    </div>`);var f=`<div class="bdt-grid" bdt-grid data-id="${e.id}">\n\n                                    <div class="bdt-width-1-1 bdt-width-1-2@s">\n                                        <div class="bdt-ep-currency">\n                                            ${o}\n                                            ${l}\n                                        </div>\n                                    </div>\n                                    \n                                    ${b}\n                                    \n                                    <div class="bdt-width-1-1 bdt-margin-small-top bdt-ep-ccc-atributes bdt-grid-margin bdt-first-column">\n\n                                        ${m}\n\n                                        ${y}\n\n                                        ${h}\n\n                                        ${g}\n\n                                    </div>\n                                \n                                <span class="bdt-price-text bdt-hidden">${e.current_price}</span>\n                            </div>`;t(r).append(f)})}}}),!0!==a&&setTimeout((function(){!function e(){t.ajax({type:"GET",url:ElementPackConfig.ajaxurl+"?action=ep_crypto_data",data:{currency:c,per_page:1,order:i.order,ids:n.ids}}).done((function(n){let a=t(r).find(".bdt-crypto-currency-card-item"),d=[];for(let e=0;e<a.length;e++)d.push({id:t(a[e]).data("id"),current_price:parseFloat(t(a[e]).find(".bdt-price-text").text())});let i=JSON.parse(n),s=[];for(let e=0;e<d.length;e++)t.map(i,(function(t,r){t.id===d[e].id&&t.current_price!==d[e].current_price&&s.push({id:d[e].id,current_price:t.current_price,old_price:d[e].current_price})}));0!==s.length&&s.forEach(e=>{t(r).find('[data-id="'+e.id+'"]').addClass("data-changed"),t(r).find('[data-id="'+e.id+'"]').find(".bdt-price-text").text(e.current_price);let n=c.toString().toUpperCase(),a=returnCurrencySymbol(n)+e.current_price;t(r).find('[data-id="'+e.id+'"] .price-int').text(a)}),setTimeout((function(){return t(r).find(".bdt-crypto-currency-card-item").removeClass("data-changed"),e()}),1e4)}))}()}),5e3)};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-crypto-currency-card.default",r)}))}(jQuery,window.elementorFrontend);