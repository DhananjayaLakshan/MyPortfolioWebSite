!function(r,e){"use strict";var t=function(r,e){var t=r.find(".bdt-crypto-currency-carousel"),n=r.find(".bdt-crypto-currency-carousel"),c=n.data("crypto-settings"),i=Boolean(elementorFrontend.isEditMode());if(!t.length)return;var a={currency:c.currency,limit:100,order:"market_cap_desc"};c.currency&&(a.currency=c.currency),c.limit&&(a.limit=c.limit),c.order&&(a.order=c.order);let d,o=a;d=void 0!==o&&void 0!==o.currency?o.currency:"usd",e.ajax({type:"GET",dataType:"json",url:ElementPackConfig.ajaxurl+"?action=ep_crypto",data:{currency:d,per_page:o.limit,order:o.order,ids:c.ids},success:function(r){e(n).find(".swiper-wrapper").empty();var i=0;r.data.forEach(r=>{if(++i>o.limit)return;let a=d.toString().toUpperCase(),s=returnCurrencySymbol(a)+r.current_price;var u="",p="",l="",y="",m="";1==c.showCurrencyImage&&(u=`<div class="bdt-crypto-currency-carousel-img">\n                                        <img src="${r.image}" alt="${r.id}">\n                                    </div>`),1==c.showCurrencyShortName&&(l=`<span>(${r.symbol})</span>`),1==c.showCurrencyName&&(p=`<div class="bdt-crypto-currency-carousel-title">\n                        <h4>${r.id} ${l}</h4>\n                    </div>`),1==c.showCurrencyPriceLabel&&(m='<div class="bdt-crypto-currency-carousel-price-text">\n                        <span>price</span>\n                    </div>'),1==c.showCurrencyCurrentPrice&&(y=`${m}\n                    <div class="bdt-crypto-currency-carousel-price-nu">\n                        <span class="price-int">${s}</span>\n                    </div>`);var f=`<div class="swiper-slide"><div class="bdt-crypto-currency-carousel-item" data-id="${r.id}">\n                                <div class="bdt-crypto-currency-carousel-content">\n                                    <div class="bdt-crypto-currency-carousel-bg">\n                                        <img src="${r.image}" alt="${r.id}">\n                                    </div>\n\n                                    <div class="bdt-crypto-currency-carousel-head-content">\n                                        ${u}\n                                        ${p}\n                                    </div>\n                                    <div class="bdt-crypto-currency-carousel-bottom-content">\n                                        ${y}\n                                    </div>\n                                </div>\n                                <span class="bdt-price-text bdt-hidden">${r.current_price}</span>\n                            </div></div>`;e(n).find(".swiper-wrapper").append(f);var v=t.find(".swiper-carousel"),b=t.data("settings");const h=elementorFrontend.utils.swiper;!async function(){await new h(v,b);b.pauseOnHover&&e(v).hover((function(){this.swiper.autoplay.stop()}),(function(){this.swiper.autoplay.start()}))}()})}}),!0!==i&&setTimeout((function(){!function r(){e.ajax({type:"GET",url:ElementPackConfig.ajaxurl+"?action=ep_crypto_data",data:{currency:d,per_page:o.limit,order:o.order,ids:c.ids}}).done((function(t){let c=e(n).find(".bdt-crypto-currency-carousel-item"),i=[];for(let r=0;r<c.length;r++)i.push({id:e(c[r]).data("id"),current_price:parseFloat(e(c[r]).find(".bdt-price-text").text())});let a=JSON.parse(t),o=[];for(let r=0;r<i.length;r++)e.map(a,(function(e,t){e.id===i[r].id&&e.current_price!==i[r].current_price&&o.push({id:i[r].id,current_price:e.current_price,old_price:i[r].current_price})}));0!==o.length&&o.forEach(r=>{e(n).find('[data-id="'+r.id+'"]').addClass("data-changed"),e(n).find('[data-id="'+r.id+'"]').find(".bdt-price-text").text(r.current_price);let t=d.toString().toUpperCase(),c=returnCurrencySymbol(t)+r.current_price;e(n).find('[data-id="'+r.id+'"] .price-int').text(c)}),setTimeout((function(){return e(n).find(".bdt-crypto-currency-carousel-item").removeClass("data-changed"),r()}),1e4)}))}()}),5e3)};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-crypto-currency-carousel.default",t)}))}(jQuery,window.elementorFrontend);