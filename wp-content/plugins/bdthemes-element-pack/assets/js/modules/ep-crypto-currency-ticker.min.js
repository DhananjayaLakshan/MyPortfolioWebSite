!function(e,r){"use strict";var t=function(e,r){var t=e.find(".bdt-crypto-currency-ticker"),n=t.data("settings"),c=t.data("ticker-settings"),i=Boolean(elementorFrontend.isEditMode());if(!t.length)return;var d={currency:n.currency,limit:100,order:"market_cap_desc"};n.currency&&(d.currency=n.currency),n.limit&&(d.limit=n.limit),n.order&&(d.order=n.order);let a,o=d;a=void 0!==o&&void 0!==o.currency?o.currency:"usd",r.ajax({type:"GET",dataType:"json",url:ElementPackConfig.ajaxurl+"?action=ep_crypto",data:{currency:a,per_page:o.limit,order:o.order,ids:n.ids},success:function(e){r(t).find("ul").empty();var c=0;e.data.forEach(e=>{if(++c>o.limit)return;let i=a.toString().toUpperCase(),d=returnCurrencySymbol(i)+e.current_price,u=e.price_change_percentage_1h,l=Number(u)===u&&u%1!=0?u.toFixed(2)+"%":u+"%";var p="",s="",y="",m="",f="";1==n.showCurrencyImage&&(p=`<div class="bdt-crypto-currency-ticker-img">\n                        <img src="${e.image}" alt="${e.id}">\n                    </div>`),1==n.showCurrencyShortName&&(y=`<span>(${e.symbol})</span>`),1==n.showCurrencyName&&(s=`<h3 class="bdt-crypto-currency-ticker-title">\n                        ${e.id} ${y}\n                    </h3>`),1==n.showCurrencyCurrentPrice&&(m=`<span class="bdt-crypto-currency-ticker-price">${d}</span>`),1==n.showPriceChangePercentage&&(f=`<div class="bdt-crypto-currency-ticker-percentage">\n                        <svg width="25" height="22" viewBox="0 0 20 20" fill="currentColor"\n                            xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd"\n                                d="M6.646 11.646a.5.5 0 01.708 0L10 14.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z"\n                                clip-rule="evenodd" />\n                            <path fill-rule="evenodd"\n                                d="M10 4.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V5a.5.5 0 01.5-.5z"\n                                clip-rule="evenodd" />\n                        </svg>\n                        <span>${l}</span>\n                    </div>`);var h=`<li class="bdt-crypto-currency-ticker-item" data-id="${e.id}">\n\n                                <div class="bdt-crypto-currency-ticker-inner-item">\n                                    ${p}\n                                    <div class="bdt-crypto-currency-ticker-content">\n                                        ${s}\n                                        ${m}\n                                        ${f}\n                                    </div>\n                                </div>\n\n                                <span class="bdt-price-text bdt-hidden">${e.current_price}</span>\n                             </li>`;r(t).find("ul").append(h)})}}),!0!==i&&setTimeout((function(){!function e(){r.ajax({type:"GET",url:ElementPackConfig.ajaxurl+"?action=ep_crypto_data",data:{currency:a,per_page:o.limit,order:o.order,ids:n.ids}}).done((function(n){let c=r(t).find(".bdt-crypto-currency-ticker-item"),i=[];for(let e=0;e<c.length;e++)i.push({id:r(c[e]).data("id"),current_price:parseFloat(r(c[e]).find(".bdt-price-text").text())});let d=JSON.parse(n),o=[];for(let e=0;e<i.length;e++)r.map(d,(function(r,t){r.id===i[e].id&&r.current_price!==i[e].current_price&&o.push({id:i[e].id,current_price:r.current_price,old_price:i[e].current_price})}));0!==o.length&&o.forEach(e=>{r(t).find('[data-id="'+e.id+'"]').addClass("data-changed"),r(t).find('[data-id="'+e.id+'"]').find(".bdt-price-text").text(e.current_price);let n=a.toString().toUpperCase(),c=returnCurrencySymbol(n)+e.current_price;r(t).find('[data-id="'+e.id+'"] .price-int').text(c)}),setTimeout((function(){return r(t).find(".bdt-crypto-currency-ticker-item").removeClass("data-changed"),e()}),1e4)}))}()}),7e3),r(document).ready((function(){setTimeout((function(){r(t).epNewsTicker(c)}),7e3)}))};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-crypto-currency-ticker.default",t)}))}(jQuery,window.elementorFrontend);